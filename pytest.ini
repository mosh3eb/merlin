[pytest]
# Collect tests and benchmarks from the unified tests/ and benchmarks/ tree
testpaths = tests benchmarks
python_files = test_*.py benchmark_*.py
filterwarnings =
    error
    # TODO: These warnings are kept for backprop on the cloud tests/ but should be removed once cloud tests are updated
    ignore:MeasurementStrategy\.PROBABILITIES is deprecated.*:DeprecationWarning
    ignore:MeasurementStrategy\.AMPLITUDES is deprecated.*:DeprecationWarning
    ignore:MeasurementStrategy\.MODE_EXPECTATIONS is deprecated.*:DeprecationWarning
    ignore:measurement_strategy default behavior changed in v0.3*:DeprecationWarning
    ignore:Parameter 'computation_space' is deprecated.*:DeprecationWarning
    ignore:Passing 'computation_space' as a separate argument with legacy.*:DeprecationWarning
    ignore:Passing 'computation_space' without an explicit measurement_strategy is deprecated.*:DeprecationWarning
    
    # Allow PML-142 deprecation warnings
    # TODO: Remove these once the tests reflect the new API
    ignore:amplitude_encoding=True is deprecated:DeprecationWarning
    ignore:Passing torch.Tensor as input_state is deprecated:DeprecationWarning
    ignore:Passing real-valued tensor with amplitude_encoding=True is deprecated:DeprecationWarning
    ignore:chunk_concurrency=.* is experimental.*:UserWarning
    ignore:Input batch size .* exceeds microbatch_size.*:UserWarning